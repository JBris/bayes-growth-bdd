

<!doctype html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Utils &#8212; Growth Modelling Behavior-Driven Development  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=532c1bf3" />
    
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Data Model" href="data_model.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data_model.html" title="Data Model"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Growth Modelling Behavior-Driven Development  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Behaviour Testing</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Utils</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="utils">
<h1>Utils<a class="headerlink" href="#utils" title="Link to this heading">¶</a></h1>
<p><em>Date published:</em> 20/09/23</p>
<dl class="py function" id="module-behaviour_tests.features.steps.utils">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.bvbgm">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">bvbgm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l_inf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#bvbgm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.bvbgm" title="Link to this definition">¶</a></dt>
<dd><p>Fit a biphasic von Bertalanffy growth model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>l_inf (float):</dt><dd><p>The asymptotic size.</p>
</dd>
<dt>k (float):</dt><dd><p>The growth coefficient.</p>
</dd>
<dt>t_0 (float):</dt><dd><p>The theoretical age when size is zero.</p>
</dd>
<dt>h (float):</dt><dd><p>The magnitude of the maximum difference in the size-at-age
between monophasic and biphasic parameterisations.</p>
</dd>
<dt>t_h (float):</dt><dd><p>The time of the phasic shift.</p>
</dd>
<dt>t (np.ndarray):</dt><dd><p>The age.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>np.ndarray:</dt><dd><p>The size at time t.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.fit_linear_model">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">fit_linear_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">likelihood</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#fit_linear_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.fit_linear_model" title="Link to this definition">¶</a></dt>
<dd><p>Fit a linear Bayesian model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>model (pm.Model):</dt><dd><p>The PyMC model.</p>
</dd>
<dt>priors (dict):</dt><dd><p>The model priors.</p>
</dd>
<dt>x (np.ndarray):</dt><dd><p>The explanatory variable data.</p>
</dd>
<dt>y (np.ndarray):</dt><dd><p>The response variable data.</p>
</dd>
<dt>resp (str):</dt><dd><p>The model response.</p>
</dd>
<dt>likelihood (str):</dt><dd><p>The model likelihood.</p>
</dd>
<dt>factors (list):</dt><dd><p>The list of model factors.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.fit_model">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">fit_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">likelihood</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#fit_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.fit_model" title="Link to this definition">¶</a></dt>
<dd><p>Fit a Bayesian model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>model_type (str):</dt><dd><p>The model type.</p>
</dd>
<dt>model (pm.Model):</dt><dd><p>The PyMC model.</p>
</dd>
<dt>priors (dict):</dt><dd><p>The model priors.</p>
</dd>
<dt>x (np.ndarray):</dt><dd><p>The explanatory variable data.</p>
</dd>
<dt>y (np.ndarray):</dt><dd><p>The response variable data.</p>
</dd>
<dt>resp (str):</dt><dd><p>The model response.</p>
</dd>
<dt>likelihood (str):</dt><dd><p>The model likelihood.</p>
</dd>
<dt>factors (list):</dt><dd><p>The list of model factors.</p>
</dd>
<dt>growth_curve: (str):</dt><dd><p>The nonlinear growth curve.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.fit_nonlinear_model">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">fit_nonlinear_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">likelihood</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#fit_nonlinear_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.fit_nonlinear_model" title="Link to this definition">¶</a></dt>
<dd><p>Fit a nonlinear Bayesian growth model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>model (pm.Model):</dt><dd><p>The PyMC model.</p>
</dd>
<dt>priors (dict):</dt><dd><p>The model priors.</p>
</dd>
<dt>x (np.ndarray):</dt><dd><p>The explanatory variable data.</p>
</dd>
<dt>y (np.ndarray):</dt><dd><p>The response variable data.</p>
</dd>
<dt>resp (str):</dt><dd><p>The model response.</p>
</dd>
<dt>likelihood (str):</dt><dd><p>The model likelihood.</p>
</dd>
<dt>factors (list):</dt><dd><p>The list of model factors.</p>
</dd>
<dt>growth_curve: (str):</dt><dd><p>The nonlinear growth curve.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.get_df">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">get_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explanatory_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#get_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.get_df" title="Link to this definition">¶</a></dt>
<dd><p>Get the input dataframe.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>data_dir (str):</dt><dd><p>The input data directory.</p>
</dd>
<dt>data_file (str):</dt><dd><p>The input data file.</p>
</dd>
<dt>year_interval (list[str]):</dt><dd><p>The lower and upper bound for years.</p>
</dd>
<dt>sex (str):</dt><dd><p>The sex of the sample.</p>
</dd>
<dt>locations (str):</dt><dd><p>The locations of the sample.</p>
</dd>
<dt>response_var (str):</dt><dd><p>The model response variable.</p>
</dd>
<dt>explanatory_var (str):</dt><dd><p>The model explanatory variable.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>pd.DataFrame:</dt><dd><p>The loaded input dataframe.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.get_dir_path">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">get_dir_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#get_dir_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.get_dir_path" title="Link to this definition">¶</a></dt>
<dd><p>Get the combined directory path.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>base_dir (str):</dt><dd><p>The base directory.</p>
</dd>
<dt>class_name (str):</dt><dd><p>The taxonomic class.</p>
</dd>
<dt>order (str):</dt><dd><p>The taxonomic order.</p>
</dd>
<dt>species (str):</dt><dd><p>The taxonomic species.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>str: The combined directory path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.get_mu_pp">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">get_mu_pp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#get_mu_pp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.get_mu_pp" title="Link to this definition">¶</a></dt>
<dd><p>Get the mean posterior predictions.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>trace (Trace):</dt><dd><p>The model trace.</p>
</dd>
<dt>model_type (str):</dt><dd><p>The model type.</p>
</dd>
<dt>x (np.ndarray):</dt><dd><p>The explanatory variable values.</p>
</dd>
<dt>priors (dict):</dt><dd><p>The model priors.</p>
</dd>
<dt>growth_curve: (str):</dt><dd><p>The nonlinear growth curve.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>xr.DataArray: The mean posterior predictions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.get_trace_dict_key">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">get_trace_dict_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_curve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#get_trace_dict_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.get_trace_dict_key" title="Link to this definition">¶</a></dt>
<dd><p>Get the dictionary key for the Bayesian model trace.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>class_type (str):</dt><dd><p>The taxonomic class.</p>
</dd>
<dt>order (str):</dt><dd><p>The taxonomic order.</p>
</dd>
<dt>species (str):</dt><dd><p>The taxonomic species.</p>
</dd>
<dt>sex (str):</dt><dd><p>The sex of the animal.</p>
</dd>
<dt>model_type (str):</dt><dd><p>The type of model being fitted.</p>
</dd>
<dt>growth_curve (str):</dt><dd><p>The type of growth curve being fitted.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>str:</dt><dd><p>The dictionary key</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.parse_comma_list">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">parse_comma_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#parse_comma_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.parse_comma_list" title="Link to this definition">¶</a></dt>
<dd><p>Parse a comma-delimited string into a list.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>text (str):</dt><dd><p>The input text.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>list: The parsed list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.plot_bayes_model">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">plot_bayes_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdi_prob</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.95</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#plot_bayes_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.plot_bayes_model" title="Link to this definition">¶</a></dt>
<dd><p>Plot Bayesian modelling results.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>trace (Trace):</dt><dd><p>The model trace.</p>
</dd>
<dt>out_dir (str):</dt><dd><p>The output directory.</p>
</dd>
<dt>hdi_prob (float, optional):</dt><dd><p>The highest density interval probability. Defaults to 0.95.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Trace: The model trace.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.plot_preds">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">plot_preds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu_pp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observed_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">posterior_predictive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explanatory_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdi_prob</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.95</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#plot_preds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.plot_preds" title="Link to this definition">¶</a></dt>
<dd><p>Plot predicted values over the observations.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>mu_pp (DataArray):</dt><dd><p>The mean posterior predictions.</p>
</dd>
<dt>out_dir (str):</dt><dd><p>The output directory.</p>
</dd>
<dt>observed_data (DataArray):</dt><dd><p>The observed data.</p>
</dd>
<dt>posterior_predictive (DataArray):</dt><dd><p>The posterior predictions.</p>
</dd>
<dt>x (np.ndarray):</dt><dd><p>The explanatory variable values.</p>
</dd>
<dt>response_var (str):</dt><dd><p>The response variable.</p>
</dd>
<dt>explanatory_var (str):</dt><dd><p>The explanatory variable</p>
</dd>
<dt>hdi_prob (float, optional):</dt><dd><p>The highest density interval probability. Defaults to 0.95.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>str: The output file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.snake_case_string">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">snake_case_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#snake_case_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.snake_case_string" title="Link to this definition">¶</a></dt>
<dd><p>Apply some processing to convert a string to snakecase.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>text (str):</dt><dd><p>The input text.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>str: The snakecase string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="behaviour_tests.features.steps.utils.vbgm">
<span class="sig-prename descclassname"><span class="pre">behaviour_tests.features.steps.utils.</span></span><span class="sig-name descname"><span class="pre">vbgm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l_inf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/behaviour_tests/features/steps/utils.html#vbgm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#behaviour_tests.features.steps.utils.vbgm" title="Link to this definition">¶</a></dt>
<dd><p>Fit a von Bertalanffy growth model.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>l_inf (float):</dt><dd><p>The asymptotic size.</p>
</dd>
<dt>k (float):</dt><dd><p>The growth coefficient.</p>
</dd>
<dt>t_0 (float):</dt><dd><p>The theoretical age when size is zero.</p>
</dd>
<dt>t (np.ndarray):</dt><dd><p>The age.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>np.ndarray:</dt><dd><p>The size at time t.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Utils</a><ul>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.bvbgm"><code class="docutils literal notranslate"><span class="pre">bvbgm()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.fit_linear_model"><code class="docutils literal notranslate"><span class="pre">fit_linear_model()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.fit_model"><code class="docutils literal notranslate"><span class="pre">fit_model()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.fit_nonlinear_model"><code class="docutils literal notranslate"><span class="pre">fit_nonlinear_model()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.get_df"><code class="docutils literal notranslate"><span class="pre">get_df()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.get_dir_path"><code class="docutils literal notranslate"><span class="pre">get_dir_path()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.get_mu_pp"><code class="docutils literal notranslate"><span class="pre">get_mu_pp()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.get_trace_dict_key"><code class="docutils literal notranslate"><span class="pre">get_trace_dict_key()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.parse_comma_list"><code class="docutils literal notranslate"><span class="pre">parse_comma_list()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.plot_bayes_model"><code class="docutils literal notranslate"><span class="pre">plot_bayes_model()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.plot_preds"><code class="docutils literal notranslate"><span class="pre">plot_preds()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.snake_case_string"><code class="docutils literal notranslate"><span class="pre">snake_case_string()</span></code></a></li>
<li><a class="reference internal" href="#behaviour_tests.features.steps.utils.vbgm"><code class="docutils literal notranslate"><span class="pre">vbgm()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="data_model.html"
                          title="previous chapter">Data Model</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/behaviour_testing/utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data_model.html" title="Data Model"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Growth Modelling Behavior-Driven Development  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Behaviour Testing</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Utils</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, James Bristow.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>